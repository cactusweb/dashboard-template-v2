<div class="window">
    <app-user></app-user>
    
    <div class="row full-width">
        <div class="form-control row">
            <span>
                {{ license?.key }}
            </span>

            <button class="btn btn-icon btn-icon--primary" (click)="tools.copy(license?.key||'', 'License key copied')" [disabled]="!license">
                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="22" viewBox="0 0 21 22" fill="none">
                    <path d="M12.9992 21H2.99922C2.46329 21.0186 1.94369 20.8139 1.5645 20.4347C1.18532 20.0555 0.980591 19.5359 0.999215 19V9.00001C0.980591 8.46408 1.18532 7.94448 1.5645 7.5653C1.94369 7.18611 2.46329 6.98138 2.99922 7.00001H6.99922V3.00001C6.98059 2.46408 7.18532 1.94448 7.5645 1.5653C7.94369 1.18611 8.46329 0.981385 8.99922 1.00001H18.9992C19.5351 0.981385 20.0547 1.18611 20.4339 1.5653C20.8131 1.94448 21.0178 2.46408 20.9992 3.00001V13C21.0175 13.5358 20.8127 14.0553 20.4336 14.4344C20.0545 14.8135 19.5351 15.0183 18.9992 15H14.9992V19C15.0175 19.5358 14.8127 20.0553 14.4336 20.4344C14.0545 20.8135 13.5351 21.0183 12.9992 21ZM2.99922 9.00001V19H12.9992V15H8.99922C8.46337 15.0183 7.94395 14.8135 7.56483 14.4344C7.18572 14.0553 6.98089 13.5358 6.99922 13V9.00001H2.99922ZM8.99922 3.00001V13H18.9992V3.00001H8.99922Z" />
                </svg>
            </button>
        </div>

        <div class="form-control row">
            <span>
                <ng-template [ngIf]="license">
                    <span id="used">Used:</span>
                    {{ license.activations.devices.length }}/<ng-template [ngIf]="license.activations.quantity">{{ license.activations.quantity }}</ng-template>

                    <ng-template [ngIf]="!license.activations.quantity">
                        <svg id="infinity" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 20">
                            <path fill-rule="evenodd" d="M5.25 8.5c-2.032 0-3.75 1.895-3.75 3.75S3.218 16 5.25 16c1.017 0 2.014-.457 3.062-1.253.89-.678 1.758-1.554 2.655-2.497-.897-.943-1.765-1.82-2.655-2.497C7.264 8.957 6.267 8.5 5.25 8.5zM12 11.16c-.887-.933-1.813-1.865-2.78-2.6C8.048 7.667 6.733 7 5.25 7 2.343 7 0 9.615 0 12.25s2.343 5.25 5.25 5.25c1.483 0 2.798-.668 3.97-1.56.967-.735 1.893-1.667 2.78-2.6.887.933 1.813 1.865 2.78 2.6 1.172.892 2.487 1.56 3.97 1.56 2.907 0 5.25-2.615 5.25-5.25S21.657 7 18.75 7c-1.483 0-2.798.668-3.97 1.56-.967.735-1.893 1.667-2.78 2.6zm1.033 1.09c.897.943 1.765 1.82 2.655 2.497C16.736 15.543 17.733 16 18.75 16c2.032 0 3.75-1.895 3.75-3.75S20.782 8.5 18.75 8.5c-1.017 0-2.014.457-3.062 1.253-.89.678-1.758 1.554-2.655 2.497z"/>
                        </svg>
                    </ng-template>
                </ng-template>
            </span>

            <button class="btn btn-icon btn-icon--primary" [disabled]="loading" [class.btn--loading]="loading" (click)="onReset()" [disabled]="!license">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20" fill="none">
                    <path d="M4 20L0 16L4 12V15H14V11H16V16C16 16.5523 15.5523 17 15 17H4V20ZM4 9H2V4C2 3.44772 2.44772 3 3 3H14V0L18 4L14 8V5H4V9Z"/>
                </svg>
            </button>
        </div>
    </div>
</div>