<form class="wrapper" [formGroup]="form" (ngSubmit)="postReport()">
  <ryodan-files-control formControlName="images"></ryodan-files-control>

  <div class="control-wrapper description" formArrayName="description">
    <p class="control-wrapper__label">Description</p>
    <div
      class="description__item row"
      *ngFor="let control of descriptionControl.controls; let i = index"
    >
      <div class="description__control-wrapper">
        <span class="description__index">{{ i+1 }}.</span>
        <textarea
          type="text"
          class="form-control description__control custom-scroll"
          [formControlName]="i"
        ></textarea>
      </div>
      <button
        class="description__btn"
        (click)="removeDescriptionControl(i)"
        type="button"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="10"
          height="2"
          viewBox="0 0 10 2"
          fill="none"
        >
          <path
            id="Vector 56"
            d="M1 1H9"
            stroke="white"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>
    </div>

    <button
      class="description__btn"
      (click)="addDescriptionControl()"
      type="button"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="10"
        height="10"
        viewBox="0 0 10 10"
        fill="none"
      >
        <path
          id="Vector 56"
          d="M1 5H9M5 9V1"
          stroke="white"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </button>
  </div>

  <button
    class="btn btn--primary"
    *ngVar="!!(loading$ | async) as loading"
    [disabled]="loading"
  >
    <btn-loader
      [isSpinner]="loading"
      [text]="reportId ? 'Edit' : 'Post'"
    ></btn-loader>
  </button>
</form>
