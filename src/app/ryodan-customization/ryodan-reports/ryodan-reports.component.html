<ryodan-wrapper
  [items]="reports$ | async"
  [pending]="!!(pending$ | async)"
  (update)="getReports()"
  (viewItem)="onViewReport($event)"
  (editItem)="onEditReport($event)"
>
  <button
    header-btn
    class="btn btn--outline-primary"
    (click)="formOpened$.next(true)"
  >
    New reports
  </button>
</ryodan-wrapper>

<ryodan-popup
  *ngIf="viewingReport"
  [windowTitle]="'Report №' + viewingReport.number"
  [state]="viewingReport.state"
  (close)="viewingReport = null"
>
  <ryodan-report-view [reportId]="viewingReport.id"></ryodan-report-view>
</ryodan-popup>

<ryodan-popup
  *ngIf="formOpened$ | async"
  [windowTitle]="editedReport ? 'Report №' + editedReport.number : 'New report'"
  (close)="onCloseReportForm()"
>
  <ryodan-report-form
    (close)="onCloseReportForm()"
    [reportId]="editedReport?.id"
  ></ryodan-report-form>
</ryodan-popup>
